// ignore_for_file: use_super_parameters

import 'package:flutter/material.dart';
import 'widgets/app_scaffold.dart';
import 'services/favorites_service.dart';
import 'models/dhikr_item.dart';

class DuaaFromSunnah extends StatefulWidget {
  const DuaaFromSunnah({Key? key}) : super(key: key);

  @override
  State<DuaaFromSunnah> createState() => _DuaaFromSunnahState();
}

class _DuaaFromSunnahState extends State<DuaaFromSunnah> {
  late FavoritesService _favoritesService;
  Set<String> _favoriteIds = {};
  bool _isLoading = true;

  @override
  void initState() {
    super.initState();
    _initFavorites();
  }

  Future<void> _initFavorites() async {
    _favoritesService = await FavoritesService.getInstance();
    final favorites = await _favoritesService.getFavorites();
    setState(() {
      _favoriteIds = favorites.map((item) => item.id).toSet();
      _isLoading = false;
    });
  }

  Future<void> _toggleFavorite(int index, String duaa) async {
    final id = 'duaa_sunnah_$index';
    final item = DhikrItem(
      id: id,
      text: duaa,
      category: 'أدعية من السنة النبوية',
      source: 'السنة النبوية',
    );

    final isFavorite = await _favoritesService.toggleFavorite(item);
    setState(() {
      if (isFavorite) {
        _favoriteIds.add(id);
      } else {
        _favoriteIds.remove(id);
      }
    });

    // Show feedback
    if (!mounted) return;
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(
        content: Text(
          isFavorite ? 'تمت الإضافة إلى المفضلة' : 'تمت الإزالة من المفضلة',
          textAlign: TextAlign.center,
        ),
        duration: const Duration(seconds: 1),
        behavior: SnackBarBehavior.floating,
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    return AppScaffold(
      title: 'أدعية من السنة النبوية',
      body: SingleChildScrollView(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            const SizedBox(height: 20),
            const SizedBox(height: 30),
            ..._buildDuaaList(theme),
            const SizedBox(height: 20),
          ],
        ),
      ),
      bottomNavigationBar: _buildBottomBar(theme),
    );
  }

  Widget _buildBottomBar(ThemeData theme) {
    return Container(
      color: theme.primaryColor,
      padding: const EdgeInsets.symmetric(vertical: 10, horizontal: 5),
      child: Row(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          Text(
            'aladkar.com©${DateTime.now().year}',
            style: theme.textTheme.labelLarge,
          ),
        ],
      ),
    );
  }

  List<Widget> _buildDuaaList(ThemeData theme) {
    final List<String> duaas = [
      'اللَّهمَّ رَبَّنَا لَكَ الحَمْدُ، أنْتَ قَيِّمُ السَّمَاوَاتِ وَالأرْضِ، وَلَكَ الحَمْدُ أنْتَ رَبُّ السَّمَاوَاتِ وَالأرْضِ وَمَنْ فِيهِنَّ، وَلَكَ الحَمْدُ أنْتَ نُورُ السَّمَاوَاتِ وَالأرْضِ وَمَنْ فِيهِنَّ، أنْتَ الحَقُّ، وَقَوْلُكَ الحَقُّ، وَوَعْدُكَ الحَقُّ، وَلِقَاؤُكَ الحَقُّ، وَالجَنَّةُ حَقٌّ، وَالنَّارُ حَقٌّ، وَالسَّاعَةُ حَقٌّ، اللَّهمَّ لَكَ أسْلَمْتُ، وَبِكَ آمَنْتُ، وَعَلَيْكَ تَوَكَّلْتُ، وَإِلَيْكَ خَاصَمْتُ، وَبِكَ حَاكَمْتُ، فَاغْفِرْ لِي مَا قَدَّمْتُ وَمَا أخَّرْتُ، وَأسْرَرْتُ وَأعْلَنْتُ، وَمَا أنْتَ أعْلَمُ بِهِ مِنِّي، لا إِلَهَ إِلا أنْتَ',
      'اللَّهمَّ رَبَّنَا لَكَ الحَمْدُ، مِلْءُ السَّمَاوَاتِ وَمِلْءُ الأَرْضِ، وَمِلْءُ مَا شِئْتَ مِنْ شَيْءٍ بَعْدُ أهْلَ الثَّنَاءِ وَالمَجْدِ، لا مَانِعَ لِمَا أعْطَيْتَ، وَلا مُعْطِيَ لِمَا مَنَعْتَ وَلا يَنْفَعُ ذَا الجَدِّ مِنْكَ الجَدُّ',
      'سُبْحَانَكَ اللَّهمَّ رَبَّنَا وَبِحَمْدِكَ، اللَّهمَّ اغْفِرْ لِي',
      'اللَّهمَّ صَلِّ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ، كَمَا صَلَّيْتَ عَلَى إِبْرَاهِيمَ، وَعَلَى آلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيدٌ مَجِيدٌ، اللَّهمَّ بَارِكْ عَلَى مُحَمَّدٍ وَعَلَى آلِ مُحَمَّدٍ، كَمَا بَارَكْتَ عَلَى إِبْرَاهِيمَ وَعَلَى آلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيدٌ مَجِيدٌ',
      'اللَّهمَّ إِنِّي ظَلَمْتُ نَفْسِي ظُلْماً كَثِيراً وَلاَ يَغْفِرُ الذُّنُوبَ إِلاَّ أَنْتَ، فَاغْفِرْ لِي مَغْفِرَةً مِنْ عِنْدِكَ وَارْحَمْنِي، إِنَّكَ أَنْتَ الغَفُورُ الرَّحِيمُ',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنَ العَجْزِ وَالكَسَلِ، وَالجُبْنِ وَالهَرَمِ وَالبُخْلِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ القَبْرِ وَمِنْ فِتْنَةِ المَحْيَا وَالمَمَاتِ',
      'اللَّهمَّ إِنِّي أعُوذُ بِكَ مِنَ الهَمِّ وَالحَزَنِ، وَالعَجْزِ وَالكَسَلِ، وَالجُبْنِ وَالبُخْلِ، وَضَلَعِ الدَّيْنِ، وَغَلَبَةِ الرِّجَال',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنَ العَجْزِ وَالكَسَلِ، وَالجُبْنِ وَالبُخْلِ، وَالهَرَمِ وَعَذَابِ القَبْرِ، اللَّهمَّ آتِ نَفْسِي تَقْوَاهَا، وَزَكِّهَا أَنْتَ خَيْرُ مَنْ زَكَّاهَا، أَنْتَ وَلِيُّهَا وَمَوْلاَهَا اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنْ عِلْمٍ لاَ يَنْفَعُ وَمِنْ قَلْبٍ لاَ يَخْشَعُ، وَمِنْ نَفْسٍ لاَ تَشْبَعُ، وَمِنْ دَعْوَةٍ لاَ يُسْتَجَابُ لَهَا',
      'اللَّهمَّ إِنِّي أعُوذُ بِكَ مِنَ الكَسَلِ وَالهَرَمِ، وَالمَغْرَمِ وَالمَأْثَمِ، اللَّهمَّ إِنِّي أعُوذُ بِكَ مِنْ عَذَابِ النَّارِ وَفِتْنَةِ النَّارِ، وَفِتْنَةِ القَبْرِ وَعَذَابِ القَبْرِ، وَشَرِّ فِتْنَةِ الغِنَى، وَشَرِّ فِتْنَةِ الفَقْرِ، وَمِنْ شَرِّ فِتْنَةِ المَسِيحِ الدَّجَّالِ، اللَّهمَّ اغْسِلْ خَطَايَايَ بِمَاءِ الثَّلْجِ وَالبَرَدِ، وَنَقِّ قَلْبِي مِنَ الخَطَايَا، كَمَا يُنَقَّى الثَّوْبُ الأبْيَضُ مِنَ الدَّنَسِ، وَبَاعِدْ بَيْنِي وَبَيْنَ خَطَايَايَ كَمَا بَاعَدْتَ بَيْنَ المَشْرِقِ وَالمَغْرِبِ',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنْ شَرِّ مَا عَمِلْتُ، وَمِنْ شَرِّ مَا لَمْ أَعْمَلْ',
      'اللَّهمَّ إِنِّي أعُوذُ بِكَ مِنْ فِتْنَةِ النَّارِ وَمِنْ عَذَابِ النَّارِ، وَأعُوذُ بِكَ مِنْ فِتْنَةِ القَبْرِ، وَأعُوذُ بِكَ مِنْ عَذَابِ القَبْرِ، وَأعُوذُ بِكَ مِنْ فِتْنَةِ الغِنَى، وَأعُوذُ بِكَ مِنْ فِتْنَةِ الفَقْرِ، وَأعُوذُ بِكَ مِنْ فِتْنَةِ المَسِيحِ الدَّجَّالِ',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنْ زَوَالِ نِعْمَتِكَ، وَتَحَوُّلِ عَافِيَتِكَ وَفُجَاءَةِ نِقْمَتِكَ، وَجَمِيعِ سَخَطِكَ',
      'اللَّهمَّ إِنِّي أَعُوذ بكَ مِنَ البَرَصِ وَالجُنُونِ وَالجُذامِ وَمِنْ سَيِّئِ الأَسْقَامِ',
      'اللَّهمَّ إِنِّي أَعُوذ بكَ مِنْ مُنْكَرَاتِ الأَخْلاَقِ وَالأَعْمَالِ وَالأَهْوَاءِ',
      'اللَّهمَّ إِنِّي أَعُوذ بكَ مِنْ شَرِّ سَمْعِي وَمِنْ شَرِّ بَصَرِي وَمِنْ شَرِّ لِسَانِي وَمِنْ شَرِّ قَلْبي وَمِنْ شَرِّ مَنِيِّي',
      'اللَّهمَّ إِنِّي أَعُوذ بكَ مِنَ الفَقْرِ وَالقِلَّةِ وَالذِّلَّةِ وَأَعُوذ بكَ مِنْ أَنْ أَظْلِمَ أَوْ أُظْلَمَ',
      'اللَّهمَّ إِنِّي أَعُوذ بعَظَمَتِكَ أَنْ أُغْتَالَ مِنْ تَحْتِي',
      'اللَّهمَّ أعُوذُ بِرِضَاكَ مِنْ سَخَطِكَ، وَبِمُعَافَاتِكَ مِنْ عُقُوبَتِكَ، وَأعُوذُ بِكَ مِنْكَ، لا أحْصِي ثَنَاءً عَلَيْكَ، أنْتَ كَمَا أثْنَيْتَ عَلَى نَفْسِكَ',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنْ زَوَالِ نِعْمَتِكَ، وَتَحَوُّلِ عَافِيَتِكَ وَفُجاءَةِ نِقْمَتِكَ، وَجميعِ سخَطِكَ',
      'اللَّهُمَّ إِني أَعوذُ بِكَ مِن فِتنةِ النَّارِ، وعَذَابِ النَّارِ، وَمِن شَرِّ الغِنَى وَالفَقْر',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِن منْكَرَاتِ الأَخلاقِ، والأعْمَالِ والأَهْواءِ',
      'اللَّهمَّ إِنِّي أَعُوذُ بِكَ مِنَ الجُوعِ، فإِنَّهُ بِئْسَ الضَّجيعُ، وَأَعُوذُ بِكَ من الخِيانَةِ، فَإِنَّهَا بئْسَتِ البِطانَةُ',
      'اللَّهمَّ إِنِّي أَعُوذ بكَ مِنَ الهَدْمِ وَأَعُوذ بكَ مِنَ التَّرَدِّي وَأَعُوذ بكَ مِنَ الغَرَقِ وَالحَرَقِ وَالهَرمِ وَأَعُوذ بكَ أَنْ يَتَخَبَّطَنِي الشَّيْطَانُ عِنْدَ المَوْتِ وَأَعُوذ بكَ أَنْ أَمُوتَ فِي سَبيلِكَ مُدْبراً وَأَعُوذ بكَ أَنْ أَمُوتَ لَدِيغاً',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ مِنَ الخَيْرِ كُلِّهِ عَاجِلِهِ وَآجِلِهِ مَا عَلِمْتُ مِنْهُ وَمَا لَمْ أَعْلَمْ وَأَعُوذ بكَ مِنَ الشَّرِّ كُلِّهِ عَاجِلِهِ وَآجِلِهِ مَا عَلِمْتُ مِنْهُ وَمَا لَمْ أَعْلَمِ اللَّهمَّ إِنِّي أَسْأَلُكَ مِنْ خَيْرِ مَا سَأَلَكَ عَبْدُكَ وَنَبيُّكَ وَأَعُوذ بكَ مِنْ شَرِّ مَا عَاذ بهِ عَبْدُكَ وَنَبيُّكَ اللَّهمَّ إِنِّي أَسْأَلُكَ الجَنَّةَ وَمَا قَرَّبَ إِلَيْهَا مِنْ قَوْلٍ أَوْ عَمَلٍ وَأَعُوذ بكَ مِنَ النَّارِ وَمَا قَرَّبَ إِلَيْهَا مِنْ قَوْلٍ أَوْ عَمَلٍ وَأَسْأَلُكَ أَنْ تَجْعَلَ كُلَّ قَضَاءٍ قَضَيْتَهُ لِي خَيْراً',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ بأَنَّ لَكَ الحَمْدَ لاَ إِلَهَ إِلاَّ أَنْتَ المَنَّانُ بَدِيعُ السَّمَاوَاتِ وَالأَرْضِ يَا ذا الجَلاَلِ وَالإكْرَامِ يَا حَيُّ يَا قَيُّومُ إِنِّي أَسْأَلُكَ',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ بأَنِّي أَشْهَدُ أَنَّكَ أَنْتَ اللهُ لاَ إِلَهَ إِلاَّ أَنْتَ الأَحَدُ الصَّمَدُ الَّذِي لَمْ يَلِدْ وَلَمْ يُولَدْ وَلَمْ يَكُنْ لَهُ كُفُواً أَحَدٌ',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ الهُدَى وَالسَّدَادَ',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ فِعْلَ الخَيْرَاتِ وَتَرْكَ المُنْكَرَاتِ وَحُبَّ المَسَاكِينِ وَإِذا أَرَدْتَ بعِبَادِكَ فِتْنَةً فَاقْبضْنِي إِلَيْكَ غَيْرَ مَفْتُونٍ',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ الهُدَى وَالتُّقَى وَالعَفَافَ وَالغِنَى',
      'اللَّهُمَّ إِنِّي أَسْأَلُكَ الثَّبَاتَ فِي الْأَمْرِ، وَأَسْأَلُكَ عَزِيمَةَ الرُّشْدِ، وَأَسْأَلُكَ شُكْرَ نِعْمَتِكَ، وَحُسْنَ عِبَادَتِكَ، وَأَسْأَلُكَ لِسَانًا صَادِقًا، وَقَلْبًا سَلِيمًا، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا تَعْلَمُ، وَأَسْأَلُكَ مِنْ خَيْرِ مَا تَعْلَمُ، وَأَسْتَغْفِرُكَ مِمَّا تَعْلَمُ إِنَّكَ أَنْتَ عَلَّامُ الْغُيُوبِ',
      'اللَّهمَّ أَعِنِّي عَلَى ذِكْرِكَ وَشُكْرِكَ وَحُسْنِ عِبَادَتِكَ',
      'اللَّهمَّ اجْعَلْ فِي قَلْبِي نُوراً، وَفِي بَصَرِي نُوراً، وَفِي سَمْعِي نُوراً، وَعَنْ يَمِينِي نُوراً، وَعَنْ يَسَارِي نُوراً، وَفَوْقِي نُوراً، وَتَحْتِي نُوراً، وَأمَامِي نُوراً، وَخَلْفِي نُوراً، وَعَظِّمْ لِي نُوراً',
      'اللَّهمَّ أَصْلِحْ لِي دِينِي الَّذِي هُوَ عِصْمَةُ أَمْرِي، وَأَصْلِحْ لِي دُنْيَايَ الَّتِي فِيهَا مَعَاشِي، وَأَصْلِحْ لِي آخِرَتِي الَّتِي فِيهَا مَعَادِي، وَاجْعَلِ الحَيَاةَ زِيَادَةً لِي فِي كُلِّ خَيْرٍ، وَاجْعَلِ المَوْتَ رَاحَةً لِي مِنْ كُلِّ شَرٍّ',
      'اللَّهمَّ اغْفِرْ لِي خَطِيئَتِي وَجَهْلِي وَإِسْرَافِي، فِي أَمْرِي وَمَا أَنْتَ أَعْلَمُ بِهِ مِنِّي، اللَّهمَّ اغْفِرْ لِي جِدِّي وَهَزْلِي وَخَطَئِي وَعَمْدِي وَكُلُّ ذَلِكَ عِنْدِي، اللَّهمَّ اغْفِرْ لِي مَا قَدَّمْتُ وَمَا أَخَّرْتُ وَمَا أَسْرَرْتُ وَمَا أَعْلَنْتُ وَمَا أَنْتَ أَعْلَمُ بِهِ مِنِّي أَنْتَ المُقَدِّمُ وَأَنْتَ المُؤَخِّرُ وَأَنْتَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ',
      'اللَّهمَّ اغْفِرْ لِي وَارْحَمْنِي وَاهْدِنِي وَارْزُقْنِي',
      'اللَّهمَّ اغْفِرْ لِي ذَنْبِي كُلَّهُ، دِقَّهُ وَجِلَّهُ، وَأوَّلَهُ وَآخِرَهُ، وَعَلانِيَتَهُ وَسِرَّه',
      'اللَّهمَّ اغْفِرْ لِي مَا قَدَّمْتُ وَمَا أخَّرْتُ، وَمَا أسْرَرْتُ وَمَا أعْلَنْتُ، وَمَا أسْرَفْتُ، وَمَا أنْتَ أعْلَمُ بِهِ مِنِّي، أنْتَ المُقَدِّمُ وَأنْتَ المُؤَخِّرُ، لا إِلَهَ إِلا أنْتَ',
      'اللَّهمَّ أنْتَ رَبِّي لا إِلَهَ إِلا أنْتَ، خَلَقْتَنِي وَأنَا عَبْدُكَ، وَأنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ وَأبُوءُ لَكَ بِذَنْبِي فَاغْفِرْ لِي، فَإِنَّهُ لا يَغْفِرُ الذُّنُوبَ إِلا أنْتَ',
      'اللَّهُمَّ اهْدِنِي فِيمَنْ هَدَيْتَ، وَعَافِنِي فِيمَنْ عَافَيْتَ، وَتَوَلَّنِي فِيمَنْ تَوَلَّيْتَ، وَبَارِكْ لِي فِيمَا أَعْطَيْتَ وَقِنِي شَرَّ مَا قَضَيْتَ، إِنَّكَ تَقْضِي وَلاَ يُقْضَى عَلَيْكَ، وَإِنَّهُ لاَ يَذِلُّ مَنْ وَالَيْتَ وَلاَ يَعِزُّ مَنْ عَادَيْتَ تَبَارَكْتَ رَبَّنَا وَتَعَالَيْتَ',
      'رَب اغْفِرْ لِي وَتُبْ عَلَيَّ إِنَّكَ أَنْتَ التَّوَّابُ الغَفُورُ',
      'اللَّهمَّ لَكَ أَسْلَمْتُ، وَبِكَ آمَنْتُ، وَعَلَيْكَ تَوَكَّلْتُ، وَإِلَيْكَ أَنَبْتُ وَبِكَ خَاصَمْتُ اللَّهمَّ إِنِّي أَعُوذُ بِعِزَّتِكَ لاَ إِلَهَ إِلاَّ أَنْتَ أَنْ تُضِلَّنِي، أَنْتَ الحَيُّ الَّذِي لاَ يَمُوتُ، وَالجِنُّ وَالإِنْسُ يَمُوتُونَ',
      'اللَّهمَّ مُصَرِّفَ القُلُوبِ صَرِّفْ قُلُوبَنَا عَلَى طَاعَتِكَ',
      'يَا مُقَلِّبَ القُلُوب ثبتْ قَلْبي عَلَى دِينِكَ',
      'اللَّهمَّ إِنِّي عَبْدُكَ، وَابْنُ عَبْدِكَ، وَابْنُ أَمَتِكَ، نَاصِيَتِي بِيَدِكَ، مَاضٍ فِيَّ حُكْمُكَ، عَدْلٌ فِيَّ قَضَاؤُكَ، أَسْأَلُكَ بِكُلِّ اسْمٍ هُوَ لَكَ سَمَّيْتَ بِهِ نَفْسَكَ، أَوْ أَنْزَلْتَهُ فِي كِتَابِكَ، أَوْ عَلَّمْتَهُ أَحَداً مِنْ خَلْقِكَ، أَوِ اسْتَأْثَرْتَ بِهِ فِي عِلْمِ الغَيْبِ عِنْدَكَ، أَنْ تَجْعَلَ القُرْآنَ رَبِيعَ قَلْبِي، وَنُورَ صَدْرِي، وَجِلاَءَ حُزْنِي، وَذَهَابَ هَمِّي',
      'اللَّهمَّ بعِلْمِكَ الغَيْبَ وَقُدْرَتِكَ عَلَى الخَلْقِ أَحْيِنِي مَا عَلِمْتَ الحَيَاةَ خَيْراً لِي وَتَوَفَّنِي إِذا عَلِمْتَ الوَفَاةَ خَيْراً لِي اللَّهمَّ وَأَسْأَلُكَ خَشْيَتَكَ فِي الغَيْب وَالشَّهَادَةِ وَأَسْأَلُكَ كَلِمَةَ الحَقِّ فِي الرِّضَا وَالغَضَب وَأَسْأَلُكَ القَصْدَ فِي الفَقْرِ وَالغِنَى وَأَسْأَلُكَ نَعِيماً لاَ يَنْفَدُ وَأَسْأَلُكَ قُرَّةَ عَيْنٍ لاَ تَنْقَطِعُ وَأَسْأَلُكَ الرِّضَاءَ بَعْدَ القَضَاءِ وَأَسْأَلُكَ بَرْدَ العَيْشِ بَعْدَ المَوْتِ وَأَسْأَلُكَ لَذةَ النَّظَرِ إِلَى وَجْهِكَ وَالشَّوْقَ إِلَى لِقَائِكَ فِي غَيْرِ ضَرَّاءَ مُضِرَّةٍ وَلاَ فِتْنَةٍ مُضِلَّةٍ اللَّهمَّ زَيِّنَّا بزِينَةِ الإيمَانِ وَاجْعَلْنَا هُدَاةً مُهْتَدِينَ',
      'اللَّهمَّ رَبَّ جَبْرَائِيلَ وَمِيكَائِيلَ وَإِسْرَافِيلَ، فَاطِرَ السَّمَاوَاتِ وَالأَرْضِ، عَالِمَ الغَيْبِ وَالشَّهَادَةِ، أنْتَ تَحْكُمُ بَيْنَ عِبَادِكَ فِيمَا كَانُوا فِيهِ يَخْتَلِفُونَ، اهْدِنِي لِمَا اخْتُلِفَ فِيهِ مِنَ الحَقِّ بِإِذْنِكَ إِنَّكَ تَهْدِي مَنْ تَشَاءُ إِلَى صِرَاطٍ مُسْتَقِيمٍ',
      'اللَّهمَّ أَحْسَنْتَ خَلْقِي فَأَحْسِنْ خُلُقِي',
      'لا إِلَه إِلاَّ اللَّه العظِيمُ الحلِيمُ، لا إِله إِلاَّ اللَّه رَبُّ العَرْشِ العظِيمِ، لا إِلَهَ إِلاَّ اللَّه رَبُّ السمَواتِ، وربُّ الأَرْض، ورَبُّ العرشِ الكريمِ',
      'الله الله ربي لا أشرك به شيئا',
      'اللَّهمَّ اكْفِني بحلالِكَ عَن حَرَامِكَ، وَاغْنِني بِفَضلِكَ عَمَّن سِوَاكَ',
      'اللَّهُمَّ أَلهِمْني رُشْدِي، وأَعِذني مِن شَرِّ نفسي',
      'اللَّهمَّ إِنِّي أَسْأَلُكَ حُبَّكَ، وَحُبَّ من يُحِبُّكَ، وَالعمَل الذي يُبَلِّغُني حُبَّكَ اللَّهُمَّ اجْعل حُبَّكَ أَحَبَّ إِلَيَّ مِن نَفسي، وأَهْلي، ومِن الماءِ البارد',
      'اللَّهُمَّ إِنِّي أَسْأَلُكَ مُوجِباتِ رحْمتِكَ، وَعزَائمَ مغفِرتِكَ، والسَّلامَةَ مِن كُلِّ إِثمٍ، والغَنِيمَةَ مِن كُلِّ بِرٍ، وَالفَوْزَ بالجَنَّةِ، وَالنَّجاةَ مِنَ النَّارِ',
      'ربِّ اغْفِرْ لي، وتُبْ عليَ إِنَّكَ أَنْتَ التَّوابُ الرَّحِيمُ',
      'لا إله إلا أنت سبحانك إني كنت من الظالمين',
    ];

    return duaas.asMap().entries.expand((entry) {
      final index = entry.key;
      final duaa = entry.value;
      final id = 'duaa_sunnah_$index';
      final isFavorite = _favoriteIds.contains(id);

      return [
        SectionCard(
          title: '',
          backgroundColor: Colors.white,
          child: Column(
            children: [
              Padding(
                padding: const EdgeInsets.all(16.0),
                child: Text(
                  duaa,
                  style: theme.textTheme.bodyLarge?.copyWith(
                    fontSize: 26,
                    height: 1.5,
                  ),
                  textAlign: TextAlign.center,
                  textDirection: TextDirection.rtl,
                ),
              ),
              Padding(
                padding: const EdgeInsets.only(bottom: 8.0),
                child: IconButton(
                  icon: Icon(
                    isFavorite ? Icons.favorite : Icons.favorite_border,
                    color: isFavorite ? Colors.red : Colors.grey,
                    size: 28,
                  ),
                  onPressed:
                      _isLoading ? null : () => _toggleFavorite(index, duaa),
                  tooltip:
                      isFavorite ? 'إزالة من المفضلة' : 'إضافة إلى المفضلة',
                ),
              ),
            ],
          ),
        ),
        const SizedBox(height: 16),
      ];
    }).toList();
  }
}
